<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSS FCRIT</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(function() {
            $("#footer").load("/components/footer.html");
        });
    </script>
        <link rel="stylesheet" href="/style/index.css" />
    <link rel="stylesheet" type="text/css" href="../style/adminLogin.css">
    <style>
      .alert-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">
            <img
              src="/images/nss_logo.png"
              alt="Logo"
              width="50"
              height="50"
              class="d-inline-block align-text-top"
            />
          </a>
          <a class="navbar-brand navbarMob" style="color: black;" href="#">National Service Scheme</a>
          <a class="navbar-brand navbarMobile" style="color: black;" href="#">NSS FCRIT</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNavAltMarkup"
          >
          </div>
        </div>
      </nav>
      <div class="alert-container"></div>
      <div class="container">
        <div class="main-content">
          <div style="display: flex;width: 100%;">
            <div class=" loginDetails">
              <form action="/user" method="POST">
                <h2 class="heading">VOLUNTEER LOGIN</h2>
                <div class="form-group">
                  <label for="vec">VEC:</label>
                  <input type="text" class="form-control" name="vec" id="username" required>
                </div>
                <div class="form-group">
                  <span class="fa fa-lock"></span>
                  <label for="password">Password:</label>
                  <input type="password" class="form-control" name="password" id="password" required>
                </div>
                <input type="submit" style="width: 100%;" class="btn btn-warning navButton" value="Login">
              </form>
            </div>
            <div class="company__info">
            </div>
          </div>
        </div>
    </div>

    <div id="footer"></div>

</body>
<script>
  const queryParams = new URLSearchParams(window.location.search);
    const errorStatus = queryParams.get('error');
    
    if (errorStatus === '502') {
      showErrorAlert('Invalid Credentials');
    }else if(errorStatus==='501'){
      showErrorAlert('User doesn\'t exist')
    }else if(errorStatus==='500'){
      showErrorAlert('An error occurred. Please try again later.')
    }


        function showErrorAlert(message) {
            const alertContainer = document.querySelector('.alert-container');
            const alert = document.createElement('div');
            alert.classList.add('alert', 'alert-danger', 'alert-dismissible', 'fade', 'show');
            alert.innerHTML = `
                <strong>Error!</strong> ${message}
                
            `;
            alertContainer.appendChild(alert);

            setTimeout(() => {
                alertContainer.removeChild(alert);
            }, 2000);
        }

</script>
</html>
